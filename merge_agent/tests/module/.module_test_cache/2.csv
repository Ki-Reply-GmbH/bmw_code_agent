answer
eydleHBsYW5hdGlvbic6ICdJIHJlc29sdmVkIHRoZSBtZXJnZSBjb25mbGljdCBieSBrZWVwaW5nIHRoZSBjaGFuZ2VzIGZyb20gYm90aCBicmFuY2hlcy4gSSBjb21iaW5lZCB0aGUgaW1wb3J0IHN0YXRlbWVudHMgYW5kIHRoZSByb3V0ZSBoYW5kbGluZyBmdW5jdGlvbnMgZnJvbSBib3RoIGJyYW5jaGVzIHRvIGVuc3VyZSB0aGF0IGFsbCB0aGUgbmVjZXNzYXJ5IGRlcGVuZGVuY2llcyBhbmQgZnVuY3Rpb25hbGl0aWVzIGFyZSBpbmNsdWRlZCBpbiB0aGUgZmluYWwgY29kZS4nLCAnY29kZSc6ICdmcm9tIGZhc3RhcGkgaW1wb3J0IEZhc3RBUEksIERlcGVuZHMsIEhUVFBFeGNlcHRpb24sIHN0YXR1c1xuZnJvbSAuIGltcG9ydCBhdXRoLCBtb2RlbHMsIHNjaGVtYXNcbmZyb20gc3FsYWxjaGVteS5vcm0gaW1wb3J0IFNlc3Npb25cbmZyb20gLmRlcGVuZGVuY2llcyBpbXBvcnQgZ2V0X2RiXG5mcm9tIC5yb3V0ZS5jYWxjdWxhdGUgaW1wb3J0IGNhbGN1bGF0ZV9yb3V0ZVxuXG5hcHAgPSBGYXN0QVBJKClcblxuQGFwcC5nZXQoIi9zdGF0dXMiKVxuZGVmIHJlYWRfc3RhdHVzKCk6XG4gICAgcmV0dXJuIHsic3RhdHVzIjogIlNlcnZpY2UgaXMgdXAgYW5kIHJ1bm5pbmcifVxuXG5AYXBwLnBvc3QoIi90b2tlbiIsIHJlc3BvbnNlX21vZGVsPXNjaGVtYXMuVG9rZW4pXG5hc3luYyBkZWYgbG9naW5fZm9yX2FjY2Vzc190b2tlbihmb3JtX2RhdGE6IHNjaGVtYXMuVG9rZW5SZXF1ZXN0Rm9ybSA9IERlcGVuZHMoKSk6XG4gICAgdXNlciA9IGF1dGguYXV0aGVudGljYXRlX3VzZXIoZm9ybV9kYXRhLnVzZXJuYW1lLCBmb3JtX2RhdGEucGFzc3dvcmQpXG4gICAgaWYgbm90IHVzZXI6XG4gICAgICAgIHJhaXNlIEhUVFBFeGNlcHRpb24oXG4gICAgICAgICAgICBzdGF0dXNfY29kZT1zdGF0dXMuSFRUUF80MDFfVU5BVVRIT1JJWkVELFxuICAgICAgICAgICAgZGV0YWlsPSJJbmNvcnJlY3QgdXNlcm5hbWUgb3IgcGFzc3dvcmQiLFxuICAgICAgICAgICAgaGVhZGVycz17IldXVy1BdXRoZW50aWNhdGUiOiAiQmVhcmVyIn0sXG4gICAgICAgIClcbiAgICBhY2Nlc3NfdG9rZW4gPSBhdXRoLmNyZWF0ZV9hY2Nlc3NfdG9rZW4oZGF0YT17InN1YiI6IHVzZXIudXNlcm5hbWV9KVxuICAgIHJldHVybiB7ImFjY2Vzc190b2tlbiI6IGFjY2Vzc190b2tlbiwgInRva2VuX3R5cGUiOiAiYmVhcmVyIn1cblxuQGFwcC5nZXQoIi91c2Vycy9tZSIsIHJlc3BvbnNlX21vZGVsPXNjaGVtYXMuVXNlcilcbmFzeW5jIGRlZiByZWFkX3VzZXJzX21lKGN1cnJlbnRfdXNlcjogbW9kZWxzLlVzZXIgPSBEZXBlbmRzKGF1dGguZ2V0X2N1cnJlbnRfdXNlcikpOlxuICAgIHJldHVybiBjdXJyZW50X3VzZXJcblxuQGFwcC5wb3N0KCIvcGFja2FnZXMve3BhY2thZ2VfaWR9L2NhbGN1bGF0ZS1yb3V0ZSIsIHJlc3BvbnNlX21vZGVsPXNjaGVtYXMuUm91dGUpXG5kZWYgY2FsY3VsYXRlX3BhY2thZ2Vfcm91dGUocGFja2FnZV9pZDogc3RyLCBkYjogU2Vzc2lvbiA9IERlcGVuZHMoZ2V0X2RiKSk6XG4gICAgZGJfcGFja2FnZSA9IChcbiAgICAgICAgZGIucXVlcnkobW9kZWxzLlBhY2thZ2UpLmZpbHRlcihtb2RlbHMuUGFja2FnZS5pZCA9PSBwYWNrYWdlX2lkKS5maXJzdCgpXG4gICAgKVxuICAgIGlmIGRiX3BhY2thZ2UgaXMgTm9uZTpcbiAgICAgICAgcmFpc2UgSFRUUEV4Y2VwdGlvbihzdGF0dXNfY29kZT00MDQsIGRldGFpbD0iUGFja2FnZSBub3QgZm91bmQiKVxuXG4gICAgcm91dGVfZGV0YWlscyA9IGNhbGN1bGF0ZV9yb3V0ZShkYl9wYWNrYWdlLmN1cnJlbnRfbG9jYXRpb24sIGRiX3BhY2thZ2UuZGVzdGluYXRpb24pXG4gICAgIyBTYXZlIHJvdXRlIGRldGFpbHMgdG8gdGhlIGRhdGFiYXNlIGFuZCByZXR1cm4gdGhlbVxuICAgICMgLi4uJ30=
